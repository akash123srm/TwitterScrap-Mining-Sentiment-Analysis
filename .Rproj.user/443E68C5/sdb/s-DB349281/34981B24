{
    "collab_server" : "",
    "contents" : "\n\nlibrary(\"twitteR\")\nlibrary(\"ROAuth\")\n\n#all this info is obtained for the Twitter developer account:\n\nkey <- \"NIAfLMyCaJytEMQmKm1tuzaK6\"\n\nsecret <- \"jisoQf0XGTnVPiBEIKWic113vXe4NFSIbno5inR35R70Iot1gB\"\n\n#set a working directory for the whole process - \n#you need to download a few files and R needs to know where to look for that stuff\n\nsetwd(\"C:/Users/User/Documents/R/Twitter_Sentiment_Analysis\")\n\n#this is a crucial step - at least for windows users\n#if you are on Linux or Mac you might skip this step, Win needs the certificate collection\n#Cacert.pem is a collection of certificates\n\ndownload.file(url=\"http://curl.haxx.se/ca/cacert.pem\",\n              destfile=\"C:/Users/User/Documents/R/Twitter_Sentiment_Analysis/cacert.pem\",\n              method=\"auto\")\n\n#we are entering the whole Twitter API info and call the whole object authenticate\n\nauthenticate <- OAuthFactory$new(consumerKey=key,\n                                 consumerSecret=secret,\n                                 requestURL='https://api.twitter.com/oauth/request_token',\n                                 accessURL='https://api.twitter.com/oauth/access_token',\n                                 authURL='https://api.twitter.com/oauth/authorize')\n\n\n#this will get us to a Twitter Site - obtain the PIN\n#the whole process is meant to provide the signature for your Twitter usage\n\nauthenticate$handshake(cainfo=\"C:/Users/User/Documents/R/Twitter_Sentiment_Analysis/cacert.pem\")\n\n#insert the PIN from Twitter\n\n4497470\n\nsave(authenticate, file=\"twitter authentication.Rdata\")\n\nregisterTwitterOAuth(authenticate)\n\n# Alternative Authentication\n\naccess_token_secret <- \"sbpw4MQj2sH79o4wMrg8nSdqh0G5nSOgV9Slf7EH9ACqS\"\n\naccess_token <- \"2431900465-sDi7vsC4vXIgqw6cajvZlmIEdwiduOwZCGhdUTI\"\n\n\nlibrary(\"httr\")\n\n\n?setup_twitter_oauth\n\n#This function wraps the OAuth authentication handshake functions \n#from the httr package for a twitteR session.Sets up the OAuth credentials for a twitteR session\n\n#Note we nead to have proper internet connection to run this function\n\nsetup_twitter_oauth(key, secret, access_token, access_token_secret)\n\n#Get the 1000 scraps with the keyword Udemy\n\ntweets <- searchTwitter(\"#Udemy\", n=1000)\n\n# Lets check the recent tweets of Udemy\n\n\nuserTimeline(\"Udemy\")\n  \n\nlength(tweets)\n\nhead(tweets)\n\nlibrary(\"tm\")\n\n\ntweet_list <- sapply(tweets, function(x) x$getText())\n\n# Create a corpus for the tweets\n\ncorpus_tweets <- Corpus(VectorSource(tweet_list))\n\n# Convert the text into the lowercase\n\ncorpus_tweets <- tm_map(corpus_tweets, tolower)\n\n# Remove punctuation\n\ncorpus_tweets <- tm_map(corpus_tweets, removePunctuation)\n\n# Remove stopwords\n\ncorpus_tweets <- tm_map(corpus_tweets, function(x)removeWords(x, stopwords()))\n\n# Converting text into plain text document\n\ncorpus_tweets <- tm_map(corpus_tweets, PlainTextDocument)\n\nlibrary(\"wordcloud\")\n\n? wordcloud\n\nwordcloud(corpus_tweets, min.freq=5, scale=c(5,1), colors=brewer.pal(9,\"Dark2\"),\n          random.color=F, max.word=50, random.order=F)\n\n#changing to a tdm\n\ncorpus_tweets <- TermDocumentMatrix(corpus_tweets)\n\n#A DocumentTermMatrix is a very useful tool when it comes to text mining.\n#It structures the text in a matrix where each term is organized in a column. \n#Each row is a document and the number represents the counts of that term.\n\n\n?findFreqTerms\n\nfindFreqTerms(corpus_tweets,lowfreq=15)\n\nfindAssocs(corpus_tweets, c(\"android\",\"webdeveloper\"), 0.6)\n\n\n#Let’s get a dendrogram to see related terms\n#-remove sparse (infrequently used) terms from the term-document matrix\n\ncorpus_tweets <-removeSparseTerms(corpus_tweets, sparse=0.9)\n\n#Let’s scale the data\n\ncorpus_tweets <- scale(corpus_tweets)\n\n#-distance matrix\n\ncorpus_tweets <- dist(corpus_tweets, method = \"euclidean\")\n\n#-hierarchical clustering\n\ncorpus_tweets <- hclust(corpus_tweets)\n\n#-Visualize the result\n\nplot(corpus_tweets, type = \"triangle\")\n\n#-to calculate a certain number of groups\n\ncutree(corpus_tweets, k=6)\n\n#-we can even color the 6 groups and plot them\n\nrect.hclust(corpus_tweets, k=6, border=\"red\")\n\n\n\n\n",
    "created" : 1467297711503.000,
    "dirty" : true,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2357729001",
    "id" : "34981B24",
    "lastKnownWriteTime" : 1468408936,
    "last_content_update" : 1468411139152,
    "path" : "~/R/Twitter_Sentiment_Analysis/text_mining.R",
    "project_path" : "text_mining.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}